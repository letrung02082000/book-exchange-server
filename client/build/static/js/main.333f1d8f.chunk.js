(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(11),l=n.n(a),i=(n(39),n(7)),s=(n.p,n(40),n(13)),o=n(34),j=n(9),d=n.n(j),u=n(1),h=function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)(s.a,{onSubmit:function(t){t.preventDefault();var n=document.getElementById("formBasicUsername").value,c=document.getElementById("formBasicPassword").value;console.log(n,c),d.a.post("/api/admin/login",{username:n,password:c}).then((function(e){return e.data})).then((function(t){console.log(t),"Valid"==t.type&&"Success"==t.status&&e.handleClose()}))},children:[Object(u.jsxs)(s.a.Group,{controlId:"formBasicUsername",children:[Object(u.jsx)(s.a.Label,{children:"Username"}),Object(u.jsx)(s.a.Control,{type:"username",placeholder:"Enter username"})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(s.a.Label,{children:"Password"}),Object(u.jsx)(s.a.Control,{type:"password",placeholder:"Password"})]}),Object(u.jsx)(o.a,{variant:"primary",type:"submit",children:"Submit"})]})})},b=n(69),O=(n(63),n(14)),x=n(12),p=n(68),f=(n(64),n(15)),m=n(67),g=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],a=n[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),h=j[0],O=j[1],g=Object(c.useState)(e.children.others||[]),y=Object(i.a)(g,2),v=y[0],C=y[1],k=Object(c.useState)({key:"",value:""}),B=Object(i.a)(k,2),S=B[0],w=B[1],L=Object(c.useState)(null),T=Object(i.a)(L,2),I=T[0],G=T[1],N=Object(c.useState)("606494f90494e72dbcbee3b9"),V=Object(i.a)(N,2),_=V[0],q=V[1];Object(c.useEffect)((function(){d.a.get("/api/category/all").then((function(e){return e.data})).then((function(e){"Valid"===e.type?a(e.data):a([])})),d.a.get("/api/station/query").then((function(e){return e.data})).then((function(e){"Valid"===e.type?O(e.data):O([])})),e.children.category&&G(e.children.category._id),e.children.station&&q(e.children.station._id)}),[]);var E=Object(c.useState)(null),H=Object(i.a)(E,2),P=H[0],D=H[1];return Object(u.jsxs)(s.a,{style:{width:"100%"},onSubmit:function(t){t.preventDefault();var n={sku:document.getElementById("formBasicSku").value,name:document.getElementById("formBasicBookname").value,oldprice:document.getElementById("formBasicOldPrice").value||0,newprice:document.getElementById("formBasicNewPrice").value||0,imageurl:document.getElementById("formBasicUrlImage").value,description:document.getElementById("formBasicDescription").value,quantity:document.getElementById("formBasicQuantity").value||0,category:I,station:_,others:v};console.log(n),d.a.post("/api/book/push",{_id:e.children._id,book:n}).then((function(e){return e.data})).then((function(t){"Valid"==t.type?t.err?D(t.err):(e.updateBook(Object(f.a)({_id:e.children._id},n)),e.handleClose()):D(["L\u1ed7i form c\xe1c gi\xe1 tr\u1ecb"])}))},children:[Object(u.jsxs)(b.a,{onHide:function(){return D(null)},show:!!P,children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:"L\u1ed7i"}),Object(u.jsx)(b.a.Body,{children:P&&P.map((function(e){return Object(u.jsx)("p",{style:{color:"#ff0000"},children:e})}))})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicSku",children:[Object(u.jsx)(s.a.Label,{children:"M\xe3 v\u1ea1ch"}),Object(u.jsx)(s.a.Control,{required:!0,defaultValue:e.children.sku,type:"number",placeholder:"Nh\u1eadp m\xe3 v\u1ea1ch"})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicBookname",children:[Object(u.jsx)(s.a.Label,{children:"T\xean s\xe1ch"}),Object(u.jsx)(s.a.Control,{required:!0,defaultValue:e.children.name,type:"text",placeholder:"Nh\u1eadp t\xean s\xe1ch"})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicCategory",children:[Object(u.jsx)(s.a.Label,{children:"Th\u1ec3 lo\u1ea1i"}),Object(u.jsx)(s.a.Control,{required:!0,value:I,as:"select",placeholder:"Ch\u1ecdn th\u1ec3 lo\u1ea1i",onChange:function(e){G(e.target.value)},children:r.map((function(e){return Object(u.jsx)("option",{value:e._id,children:e.name})}))})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicStation",children:[Object(u.jsx)(s.a.Label,{children:"T\u1ee7 s\xe1ch/\u0110i\u1ec3m \u0111\u1ecdc"}),Object(u.jsx)(s.a.Control,{required:!0,value:_,as:"select",placeholder:"Ch\u1ecdn t\u1ee7 s\xe1ch",onChange:function(e){q(e.target.value)},children:h.map((function(e){return Object(u.jsx)("option",{value:e._id,children:e.title})}))})]}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[Object(u.jsxs)(s.a.Group,{controlId:"formBasicOldPrice",children:[Object(u.jsx)(s.a.Label,{children:"Gi\xe1 c\u0169 (\u0111)"}),Object(u.jsx)(s.a.Control,{required:!0,defaultValue:e.children.oldprice||0,type:"number",placeholder:"Nh\u1eadp gi\xe1",step:1e3})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicNewPrice",children:[Object(u.jsx)(s.a.Label,{children:"Gi\xe1 m\u1edbi(\u0111)"}),Object(u.jsx)(s.a.Control,{required:!0,defaultValue:e.children.newprice||0,type:"number",placeholder:"Nh\u1eadp gi\xe1",step:1e3})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicQuantity",children:[Object(u.jsx)(s.a.Label,{children:"S\u1ed1 l\u01b0\u1ee3ng "}),Object(u.jsx)(s.a.Control,{defaultValue:e.children.quantity,type:"number",placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng"})]})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicUrlImage",children:[Object(u.jsx)(s.a.Label,{children:"\u0110\u01b0\u1eddng d\u1eabn h\xecnh \u1ea3nh"}),Object(u.jsx)(s.a.Control,{defaultValue:e.children.imageurl,placeholder:"Nh\u1eadp \u0111\u01b0\u1eddng d\u1eabn h\xecnh \u1ea3nh"}),Object(u.jsx)(m.a,{src:e.children.imageurl})]}),Object(u.jsxs)(s.a.Group,{controlId:"formBasicDescription",children:[Object(u.jsx)(s.a.Label,{children:"M\xf4 t\u1ea3"}),Object(u.jsx)(s.a.Control,{as:"textarea",rows:10,defaultValue:e.children.description,type:"text",placeholder:"M\xf4 t\u1ea3"})]}),Object(u.jsx)(s.a.Label,{children:"Th\xf4ng tin s\u1ea3n ph\u1ea9m"}),Object(u.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Th\xf4ng tin"}),Object(u.jsx)("th",{children:"M\xf4 t\u1ea3"}),Object(u.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(u.jsxs)("tbody",{children:[v&&v.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t+1}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{value:v[t].key,onChange:function(e){var n=Object(x.a)(v);n[t].key=e.target.value,C(n)}})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{value:v[t].value,onChange:function(e){var n=Object(x.a)(v);n[t].value=e.target.value,C(n)}})}),Object(u.jsx)("td",{children:Object(u.jsx)(o.a,{variant:"danger",onClick:function(e){var t=Object(x.a)(v);t.splice(e,1),C(t)},children:"X\xf3a"})})]},t)})),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:v&&v.length}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{placeholder:"V\xed d\u1ee5: n\u0103m xu\u1ea5t b\u1ea3n",value:S.key,onChange:function(e){w(Object(f.a)(Object(f.a)({},S),{},{key:e.target.value}))}})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{placeholder:"V\xed d\u1ee5: n\u0103m 2021",value:S.value,onChange:function(e){w(Object(f.a)(Object(f.a)({},S),{},{value:e.target.value}))}})}),Object(u.jsx)("td",{children:Object(u.jsx)(o.a,{onClick:function(){var e=Object(x.a)(v);e.push(S),w({key:"",value:""}),C(e)},children:"Th\xeam"})})]})]})]}),Object(u.jsxs)(o.a,{style:{float:"right"},variant:"primary",type:"submit",children:[e.children._id?"C\u1eadp nh\u1eadt":"Th\xeam"," s\xe1ch"]}),Object(u.jsx)(o.a,{variant:"secondary",onClick:function(){return e.handleClose()},children:"Tho\xe1t"})]})};var y=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),r=n[0],a=n[1],l=Object(c.useState)(null),j=Object(i.a)(l,2),h=j[0],b=j[1];return Object(u.jsxs)(s.a,{style:{width:"100%"},onSubmit:function(t){t.preventDefault(),console.log(r),d.a.post("/api/category/create",{name:r,description:h}).then((function(e){return e.data})).then((function(t){"Valid"===t.type?e.handleClose():alert("L\u1ed7i"+t.err)}))},children:[Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"T\xean th\u1ec3 lo\u1ea1i"}),Object(u.jsx)(s.a.Control,{type:"text",required:!0,onChange:function(e){a(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"M\xf4 t\u1ea3"}),Object(u.jsx)(s.a.Control,{as:"textarea",rows:5,onChange:function(e){b(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{style:{display:"flex",justifyContent:"space-between"},children:[Object(u.jsx)(o.a,{variant:"danger",onClick:e.handleClose,children:"Hu\u1ef7"}),Object(u.jsx)(o.a,{variant:"primary",type:"submit",children:"Th\xeam"})]})]})};var v=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),r=n[0],a=n[1],l=Object(c.useState)(null),j=Object(i.a)(l,2),h=j[0],b=j[1],O=Object(c.useState)(null),x=Object(i.a)(O,2),p=x[0],f=x[1],m=Object(c.useState)(null),g=Object(i.a)(m,2),y=g[0],v=g[1],C=Object(c.useState)(null),k=Object(i.a)(C,2),B=k[0],S=k[1];return Object(u.jsxs)(s.a,{style:{width:"100%"},onSubmit:function(t){if(t.preventDefault(),v(parseFloat(y)),S(parseFloat(B)),isNaN(y)||isNaN(B))return alert("L\u1ed7i: kh\xf4ng th\u1ec3 parse Latitude, Longitude");d.a.post("/api/station/add",{title:r,description:h,address:p,latitude:y,longitude:B}).then((function(e){return e.data})).then((function(t){"Valid"===t.type?e.handleClose():alert("L\u1ed7i"+t.err)}))},children:[Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"T\xean tr\u1ea1m \u0111\u1ecdc/ t\u1ee7 s\xe1ch"}),Object(u.jsx)(s.a.Control,{type:"text",required:!0,onChange:function(e){a(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"M\xf4 t\u1ea3"}),Object(u.jsx)(s.a.Control,{as:"textarea",rows:5,onChange:function(e){b(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"\u0110\u1ecba ch\u1ec9"}),Object(u.jsx)(s.a.Control,{as:"textarea",rows:5,required:!0,onChange:function(e){f(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"Latitude"}),Object(u.jsx)(s.a.Control,{type:"text",required:!0,onChange:function(e){v(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{children:[Object(u.jsx)(s.a.Label,{children:"Longitude"}),Object(u.jsx)(s.a.Control,{type:"text",required:!0,onChange:function(e){S(e.target.value)}})]}),Object(u.jsxs)(s.a.Group,{style:{display:"flex",justifyContent:"space-between"},children:[Object(u.jsx)(o.a,{variant:"danger",onClick:e.handleClose,children:"Hu\u1ef7"}),Object(u.jsx)(o.a,{variant:"primary",type:"submit",children:"Th\xeam"})]})]})},C=function(e){var t=Object(c.useState)(1),n=Object(i.a)(t,2),r=n[0],a=n[1],l=Object(c.useState)([]),s=Object(i.a)(l,2),j=s[0],h=s[1],f=Object(c.useState)(null),m=Object(i.a)(f,2),C=m[0],k=m[1];var B=Object(c.useState)(null),S=Object(i.a)(B,2),w=S[0],L=S[1],T=Object(c.useState)(null),I=Object(i.a)(T,2),G=I[0],N=I[1],V=Object(c.useState)(null),_=Object(i.a)(V,2),q=_[0],E=_[1];Object(c.useEffect)((function(){d.a.get("/api/book/query",{params:{limit:30,page:r}}).then((function(e){return e.data})).then((function(e){console.log(e),"Valid"==e.type?h(e.data):h([])}))}),[r]);return Object(u.jsxs)("div",{className:"modal-container",children:[Object(u.jsxs)(b.a,{show:!!w,onHide:function(){return L(null)},backdrop:"static",dialogClassName:"modal-90w",children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:Object(u.jsxs)(b.a.Title,{children:[w&&w._id?"Edit":"Add"," book"]})}),Object(u.jsx)(b.a.Body,{children:w&&Object(u.jsx)(g,{updateBook:function(e){for(var t=Object(x.a)(j),n=0;n<t.length;n++)if(t[n]._id==e._id)return t[n]=e,void h(t);t.unshift(e),h(t)},handleClose:function(){return L(null)},children:w})})]}),Object(u.jsxs)(b.a,{show:!!C,onHide:function(){return k(null)},backdrop:"static",children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:Object(u.jsx)(b.a.Title,{children:C&&C.title})}),Object(u.jsx)(b.a.Body,{children:C&&C.message}),Object(u.jsx)(b.a.Footer,{children:C&&C.button&&C.button.map((function(e){return Object(u.jsx)(o.a,{onClick:function(){e.action()},variant:e.style,children:e.title},e.title)}))})]}),Object(u.jsxs)(b.a,{show:!!G,onHide:function(){return N(null)},backdrop:"static",children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:Object(u.jsx)(b.a.Title,{children:"Th\xeam th\u1ec3 lo\u1ea1i s\xe1ch"})}),Object(u.jsx)(b.a.Body,{children:G&&Object(u.jsx)(y,{handleClose:function(){return N(null)}})})]}),Object(u.jsxs)(b.a,{show:!!q,onHide:function(){return E(null)},backdrop:"static",children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:Object(u.jsx)(b.a.Title,{children:"Th\xeam t\u1ee7 s\xe1ch/\u0111i\u1ec3m \u0111\u1ecdc"})}),Object(u.jsx)(b.a.Body,{children:q&&Object(u.jsx)(v,{handleClose:function(){return E(null)}})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Qu\u1ea3n l\xed s\xe1ch"}),Object(u.jsxs)("div",{className:"all-btn",children:[Object(u.jsx)(o.a,{className:"btn btn-new-book",onClick:function(){return L({_id:null})},children:"Th\xeam s\xe1ch"}),Object(u.jsx)(o.a,{className:"btn btn-new-category",onClick:function(){return N(!0)},children:"Th\xeam Th\u1ec3 lo\u1ea1i"}),Object(u.jsx)(o.a,{className:"btn btn-new-station",onClick:function(){return E(!0)},children:"Th\xeam T\u1ee7 s\xe1ch"})]})]}),Object(u.jsxs)(p.a,{responsive:!0,className:"table",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Sku"}),Object(u.jsx)("th",{children:"T\xean"}),Object(u.jsx)("th",{children:"Gi\xe1 c\u0169"}),Object(u.jsx)("th",{children:"Gi\xe1 m\u1edbi"}),Object(u.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(u.jsx)("th",{children:"M\xf4 t\u1ea3"}),Object(u.jsx)("th",{children:"Kh\xe1c"}),Object(u.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(u.jsx)("tbody",{children:0!=j.length?j.map((function(e,t){var n;return Object(u.jsxs)("tr",{style:{cursor:"pointer"},children:[Object(u.jsx)("td",{children:t+1}),Object(u.jsx)("td",{children:e.sku}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.oldprice}),Object(u.jsx)("td",{children:e.newprice}),Object(u.jsx)("td",{children:e.quantity}),Object(u.jsx)("td",{children:e.description?e.description.substr(0,40)+"...":""}),Object(u.jsxs)("td",{onClick:function(){return L(e)},children:[e.others&&e.others.slice(0,3).map((function(e){return Object(u.jsx)("p",{style:{fontSize:14,margin:0},children:e.key+": "+e.value})})),e.others&&e.others.length>3&&Object(u.jsx)("p",{children:"..."})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)(o.a,{onClick:function(){return L(e)},variant:"secondary",children:"S\u1eeda"}),Object(u.jsx)(o.a,(n={style:{zIndex:1},onClick:function(){k({title:"X\xf3a",message:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a s\xe1ch "+e.name,button:[{title:"H\u1ee7y",action:function(){return k(null)}},{title:"X\xf3a",style:"danger",action:function(){var t;console.log(e),t=e._id,d.a.post("/api/book/delete",{_id:t}).then((function(e){return e.data})).then((function(e){if("Valid"==e.type){console.log(e),k(null);for(var n=Object(x.a)(j),c=0;c<n.length;c++)if(n[c]._id==t)return n.splice(c,1),void h(n)}}))}}]})}},Object(O.a)(n,"style",{marginLeft:10}),Object(O.a)(n,"variant","danger"),Object(O.a)(n,"children","X\xf3a"),n))]})]},e._id)})):Object(u.jsx)("tr",{children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"})})]}),Object(u.jsxs)("ul",{className:"btn-page",children:[Object(u.jsx)("li",{children:r>3&&Object(u.jsx)("p",{children:"..."})}),Object(u.jsxs)("li",{onClick:function(){return a(r-2)},children:[r-2>0&&Object(u.jsx)("p",{children:r-2})," "]}),Object(u.jsxs)("li",{onClick:function(){return a(r-1)},children:[r-1>0&&Object(u.jsx)("p",{children:r-1})," "]}),Object(u.jsx)("li",{style:{backgroundColor:"#ff0000"},children:Object(u.jsx)("p",{children:r})}),Object(u.jsx)("li",{onClick:function(){return a(r+1)},children:Object(u.jsx)("p",{children:r+1})}),Object(u.jsx)("li",{onClick:function(){return a(r+2)},children:Object(u.jsx)("p",{children:r+2})}),Object(u.jsxs)("li",{children:[" ",Object(u.jsx)("p",{children:"..."})]})]})]})};var k=function(){console.log(document.cookie.split(";")),Object(c.useEffect)((function(){(function(){var e={};return document.cookie.split(/\s*;\s*/).forEach((function(t){t=t.split(/\s*=\s*/),e[t[0]]=t.splice(1).join("=")})),!!e.admin})()||a()}),[]);var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=function(){return r(!0)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)(b.a,{show:n,backdrop:"static",keyboard:!1,children:[Object(u.jsx)(b.a.Header,{children:Object(u.jsx)(b.a.Title,{children:"Login"})}),Object(u.jsx)(b.a.Body,{children:Object(u.jsx)(h,{handleClose:function(){return r(!1)}})})]}),Object(u.jsx)(C,{})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),r(e),a(e),l(e)}))};l.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),B()}},[[65,1,2]]]);
//# sourceMappingURL=main.333f1d8f.chunk.js.map